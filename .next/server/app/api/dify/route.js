"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/dify/route";
exports.ids = ["app/api/dify/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdify%2Froute&page=%2Fapi%2Fdify%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdify%2Froute.ts&appDir=D%3A%5Ccursorspace%5Cfray%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Ccursorspace%5Cfray&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdify%2Froute&page=%2Fapi%2Fdify%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdify%2Froute.ts&appDir=D%3A%5Ccursorspace%5Cfray%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Ccursorspace%5Cfray&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_cursorspace_fray_src_app_api_dify_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/dify/route.ts */ \"(rsc)/./src/app/api/dify/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/dify/route\",\n        pathname: \"/api/dify\",\n        filename: \"route\",\n        bundlePath: \"app/api/dify/route\"\n    },\n    resolvedPagePath: \"D:\\\\cursorspace\\\\fray\\\\src\\\\app\\\\api\\\\dify\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_cursorspace_fray_src_app_api_dify_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/dify/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZkaWZ5JTJGcm91dGUmcGFnZT0lMkZhcGklMkZkaWZ5JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGZGlmeSUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDY3Vyc29yc3BhY2UlNUNmcmF5JTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1EJTNBJTVDY3Vyc29yc3BhY2UlNUNmcmF5JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNJO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnJheS8/OGJhNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJEOlxcXFxjdXJzb3JzcGFjZVxcXFxmcmF5XFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGRpZnlcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2RpZnkvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9kaWZ5XCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9kaWZ5L3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRDpcXFxcY3Vyc29yc3BhY2VcXFxcZnJheVxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxkaWZ5XFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9kaWZ5L3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdify%2Froute&page=%2Fapi%2Fdify%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdify%2Froute.ts&appDir=D%3A%5Ccursorspace%5Cfray%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Ccursorspace%5Cfray&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/dify/route.ts":
/*!***********************************!*\
  !*** ./src/app/api/dify/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n\nasync function POST(request) {\n    let query = \"\";\n    try {\n        const body = await request.json();\n        query = body.query;\n        if (!query) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"请提供要反击的话语\"\n            }, {\n                status: 400\n            });\n        }\n        // 获取环境变量\n        const difyApiUrl = process.env.DIFY_API_URL || \"https://api.dify.ai/v1\";\n        const difyApiKey = process.env.DIFY_API_KEY;\n        // 调试信息\n        console.log(\"环境变量调试信息:\");\n        console.log(\"DIFY_API_URL:\", difyApiUrl);\n        console.log(\"DIFY_API_KEY 是否存在:\", !!difyApiKey);\n        console.log(\"DIFY_API_KEY 长度:\", difyApiKey ? difyApiKey.length : 0);\n        if (!difyApiKey) {\n            console.warn(\"DIFY_API_KEY 未设置，使用模拟响应\");\n            // 如果没有配置 API Key，返回模拟响应\n            return getSimulatedResponse(query);\n        }\n        // 调用真实的 Dify API\n        const response = await fetch(`${difyApiUrl}/chat-messages`, {\n            method: \"POST\",\n            headers: {\n                \"Authorization\": `Bearer ${difyApiKey}`,\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                inputs: {\n                    query: `\"${query}\"`\n                },\n                query: `请帮我反击这个观点：\"${query}\"`,\n                response_mode: \"blocking\",\n                user: `user-${Date.now()}`\n            })\n        });\n        if (!response.ok) {\n            const errorText = await response.text();\n            console.error(`Dify API 错误详情:`, {\n                status: response.status,\n                statusText: response.statusText,\n                body: errorText\n            });\n            throw new Error(`Dify API 错误: ${response.status} - ${errorText}`);\n        }\n        const data = await response.json();\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            answer: data.answer || \"生成反击话术失败\",\n            conversation_id: data.conversation_id\n        });\n    } catch (error) {\n        console.error(\"Dify API 调用失败:\", error);\n        // 如果 API 调用失败，返回模拟响应作为备选\n        // 使用已经解析的 query，而不是再次读取请求体\n        return getSimulatedResponse(query || \"未知观点\");\n    }\n}\n// 模拟响应函数\nfunction getSimulatedResponse(query) {\n    const responses = [\n        `针对\"${query}\"，我的回应是：这种观点过于片面，让我们从更全面的角度来看待这个问题。首先，我们需要考虑到...`,\n        `关于\"${query}\"，我认为你可能忽略了一个重要的事实：根据最新的研究数据显示，实际情况恰恰相反...`,\n        `你说\"${query}\"，但这恰恰证明了我的观点。让我用逻辑来分析一下：第一，这个假设的前提本身就存在问题...`,\n        `\"${query}\"这个说法很有趣，不过我想分享一个不同的视角。从历史经验来看...`,\n        `我理解你的观点\"${query}\"，但是让我们看看专家是怎么说的。根据权威机构的报告...`,\n        `对于\"${query}\"这个观点，我想提出几个反思的角度：首先，我们是否考虑了所有相关因素？其次...`\n    ];\n    const randomResponse = responses[Math.floor(Math.random() * responses.length)];\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        answer: randomResponse,\n        conversation_id: `mock-${Date.now()}`,\n        note: \"这是模拟响应，请配置 DIFY_API_KEY 以使用真实 API\"\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxpQkFBaUJELFNBQVMsQ0FBQ0UsS0FBS0MsS0FBSyxDQUFDRCxLQUFLRSxNQUFNLEtBQUtKLFVBQVV0QixNQUFNLEVBQUU7SUFFOUUsT0FBT2hCLHFEQUFZQSxDQUFDSyxJQUFJLENBQUM7UUFDdkIrQixRQUFRRztRQUNSRixpQkFBaUIsQ0FBQyxLQUFLLEVBQUVULEtBQUtDLEdBQUcsR0FBRyxDQUFDO1FBQ3JDYyxNQUFNO0lBQ1I7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZyYXkvLi9zcmMvYXBwL2FwaS9kaWZ5L3JvdXRlLnRzP2I2YzQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICBsZXQgcXVlcnk6IHN0cmluZyA9ICcnXHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKVxyXG4gICAgcXVlcnkgPSBib2R5LnF1ZXJ5XHJcblxyXG4gICAgaWYgKCFxdWVyeSkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ+ivt+aPkOS+m+imgeWPjeWHu+eahOivneivrScgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIOiOt+WPlueOr+Wig+WPmOmHj1xyXG4gICAgY29uc3QgZGlmeUFwaVVybCA9IHByb2Nlc3MuZW52LkRJRllfQVBJX1VSTCB8fCAnaHR0cHM6Ly9hcGkuZGlmeS5haS92MSdcclxuICAgIGNvbnN0IGRpZnlBcGlLZXkgPSBwcm9jZXNzLmVudi5ESUZZX0FQSV9LRVlcclxuXHJcbiAgICAvLyDosIPor5Xkv6Hmga9cclxuICAgIGNvbnNvbGUubG9nKCfnjq/looPlj5jph4/osIPor5Xkv6Hmga86JylcclxuICAgIGNvbnNvbGUubG9nKCdESUZZX0FQSV9VUkw6JywgZGlmeUFwaVVybClcclxuICAgIGNvbnNvbGUubG9nKCdESUZZX0FQSV9LRVkg5piv5ZCm5a2Y5ZyoOicsICEhZGlmeUFwaUtleSlcclxuICAgIGNvbnNvbGUubG9nKCdESUZZX0FQSV9LRVkg6ZW/5bqmOicsIGRpZnlBcGlLZXkgPyBkaWZ5QXBpS2V5Lmxlbmd0aCA6IDApXHJcblxyXG4gICAgaWYgKCFkaWZ5QXBpS2V5KSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignRElGWV9BUElfS0VZIOacquiuvue9ru+8jOS9v+eUqOaooeaLn+WTjeW6lCcpXHJcbiAgICAgIC8vIOWmguaenOayoeaciemFjee9riBBUEkgS2V577yM6L+U5Zue5qih5ouf5ZON5bqUXHJcbiAgICAgIHJldHVybiBnZXRTaW11bGF0ZWRSZXNwb25zZShxdWVyeSlcclxuICAgIH1cclxuXHJcbiAgICAvLyDosIPnlKjnnJ/lrp7nmoQgRGlmeSBBUElcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7ZGlmeUFwaVVybH0vY2hhdC1tZXNzYWdlc2AsIHtcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHtkaWZ5QXBpS2V5fWAsXHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGlucHV0czoge1xyXG4gICAgICAgICAgcXVlcnk6IGBcIiR7cXVlcnl9XCJgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBxdWVyeTogYOivt+W4ruaIkeWPjeWHu+i/meS4quingueCue+8mlwiJHtxdWVyeX1cImAsXHJcbiAgICAgICAgcmVzcG9uc2VfbW9kZTogJ2Jsb2NraW5nJyxcclxuICAgICAgICB1c2VyOiBgdXNlci0ke0RhdGUubm93KCl9YCxcclxuICAgICAgfSksXHJcbiAgICB9KVxyXG5cclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpXHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYERpZnkgQVBJIOmUmeivr+ivpuaDhTpgLCB7XHJcbiAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXHJcbiAgICAgICAgc3RhdHVzVGV4dDogcmVzcG9uc2Uuc3RhdHVzVGV4dCxcclxuICAgICAgICBib2R5OiBlcnJvclRleHRcclxuICAgICAgfSlcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBEaWZ5IEFQSSDplJnor686ICR7cmVzcG9uc2Uuc3RhdHVzfSAtICR7ZXJyb3JUZXh0fWApXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG4gICAgXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICBhbnN3ZXI6IGRhdGEuYW5zd2VyIHx8ICfnlJ/miJDlj43lh7vor53mnK/lpLHotKUnLFxyXG4gICAgICBjb252ZXJzYXRpb25faWQ6IGRhdGEuY29udmVyc2F0aW9uX2lkLFxyXG4gICAgfSlcclxuXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RpZnkgQVBJIOiwg+eUqOWksei0pTonLCBlcnJvcilcclxuICAgIFxyXG4gICAgLy8g5aaC5p6cIEFQSSDosIPnlKjlpLHotKXvvIzov5Tlm57mqKHmi5/lk43lupTkvZzkuLrlpIfpgIlcclxuICAgIC8vIOS9v+eUqOW3sue7j+ino+aekOeahCBxdWVyee+8jOiAjOS4jeaYr+WGjeasoeivu+WPluivt+axguS9k1xyXG4gICAgcmV0dXJuIGdldFNpbXVsYXRlZFJlc3BvbnNlKHF1ZXJ5IHx8ICfmnKrnn6Xop4LngrknKVxyXG4gIH1cclxufVxyXG5cclxuLy8g5qih5ouf5ZON5bqU5Ye95pWwXHJcbmZ1bmN0aW9uIGdldFNpbXVsYXRlZFJlc3BvbnNlKHF1ZXJ5OiBzdHJpbmcpIHtcclxuICBjb25zdCByZXNwb25zZXMgPSBbXHJcbiAgICBg6ZKI5a+5XCIke3F1ZXJ5fVwi77yM5oiR55qE5Zue5bqU5piv77ya6L+Z56eN6KeC54K56L+H5LqO54mH6Z2i77yM6K6p5oiR5Lus5LuO5pu05YWo6Z2i55qE6KeS5bqm5p2l55yL5b6F6L+Z5Liq6Zeu6aKY44CC6aaW5YWI77yM5oiR5Lus6ZyA6KaB6ICD6JmR5YiwLi4uYCxcclxuICAgIGDlhbPkuo5cIiR7cXVlcnl9XCLvvIzmiJHorqTkuLrkvaDlj6/og73lv73nlaXkuobkuIDkuKrph43opoHnmoTkuovlrp7vvJrmoLnmja7mnIDmlrDnmoTnoJTnqbbmlbDmja7mmL7npLrvvIzlrp7pmYXmg4XlhrXmgbDmgbDnm7jlj40uLi5gLFxyXG4gICAgYOS9oOivtFwiJHtxdWVyeX1cIu+8jOS9hui/meaBsOaBsOivgeaYjuS6huaIkeeahOingueCueOAguiuqeaIkeeUqOmAu+i+keadpeWIhuaekOS4gOS4i++8muesrOS4gO+8jOi/meS4quWBh+iuvueahOWJjeaPkOacrOi6q+WwseWtmOWcqOmXrumimC4uLmAsXHJcbiAgICBgXCIke3F1ZXJ5fVwi6L+Z5Liq6K+05rOV5b6I5pyJ6Laj77yM5LiN6L+H5oiR5oOz5YiG5Lqr5LiA5Liq5LiN5ZCM55qE6KeG6KeS44CC5LuO5Y6G5Y+y57uP6aqM5p2l55yLLi4uYCxcclxuICAgIGDmiJHnkIbop6PkvaDnmoTop4LngrlcIiR7cXVlcnl9XCLvvIzkvYbmmK/orqnmiJHku6znnIvnnIvkuJPlrrbmmK/mgI7kuYjor7TnmoTjgILmoLnmja7mnYPlqIHmnLrmnoTnmoTmiqXlkYouLi5gLFxyXG4gICAgYOWvueS6jlwiJHtxdWVyeX1cIui/meS4quingueCue+8jOaIkeaDs+aPkOWHuuWHoOS4quWPjeaAneeahOinkuW6pu+8mummluWFiO+8jOaIkeS7rOaYr+WQpuiAg+iZkeS6huaJgOacieebuOWFs+WboOe0oO+8n+WFtuasoS4uLmBcclxuICBdXHJcbiAgXHJcbiAgY29uc3QgcmFuZG9tUmVzcG9uc2UgPSByZXNwb25zZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcmVzcG9uc2VzLmxlbmd0aCldXHJcbiAgXHJcbiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgIGFuc3dlcjogcmFuZG9tUmVzcG9uc2UsXHJcbiAgICBjb252ZXJzYXRpb25faWQ6IGBtb2NrLSR7RGF0ZS5ub3coKX1gLFxyXG4gICAgbm90ZTogJ+i/meaYr+aooeaLn+WTjeW6lO+8jOivt+mFjee9riBESUZZX0FQSV9LRVkg5Lul5L2/55So55yf5a6eIEFQSSdcclxuICB9KVxyXG59ICJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJQT1NUIiwicmVxdWVzdCIsInF1ZXJ5IiwiYm9keSIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsImRpZnlBcGlVcmwiLCJwcm9jZXNzIiwiZW52IiwiRElGWV9BUElfVVJMIiwiZGlmeUFwaUtleSIsIkRJRllfQVBJX0tFWSIsImNvbnNvbGUiLCJsb2ciLCJsZW5ndGgiLCJ3YXJuIiwiZ2V0U2ltdWxhdGVkUmVzcG9uc2UiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsIkpTT04iLCJzdHJpbmdpZnkiLCJpbnB1dHMiLCJyZXNwb25zZV9tb2RlIiwidXNlciIsIkRhdGUiLCJub3ciLCJvayIsImVycm9yVGV4dCIsInRleHQiLCJzdGF0dXNUZXh0IiwiRXJyb3IiLCJkYXRhIiwiYW5zd2VyIiwiY29udmVyc2F0aW9uX2lkIiwicmVzcG9uc2VzIiwicmFuZG9tUmVzcG9uc2UiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJub3RlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/dify/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdify%2Froute&page=%2Fapi%2Fdify%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdify%2Froute.ts&appDir=D%3A%5Ccursorspace%5Cfray%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Ccursorspace%5Cfray&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();